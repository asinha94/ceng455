/*
 * commands.c
 *
 *  Created on: Feb 28, 2018
 *      Author: asinha
 */

#include "commands.h"

_queue_id openR(uint16_t queue_id) {
	// Init Rx message queue
		_queue_id rx_queue_id = _msgq_open(RX_QUEUE_ID, 0);

		if (rx_queue_id == 0) {
		 printf("\nCould not open the server message queue\n");
		 _task_block();
		}

		RX_MESSAGE_POOL_ID = _msgpool_create(sizeof(SERVER_MESSAGE), RX_QUEUE_SIZE, 0, 0);

		if (RX_MESSAGE_POOL_ID == MSGPOOL_NULL_POOL_ID) {
		 printf("\nCount not create a message pool\n");
		 _task_block();
		}
}


